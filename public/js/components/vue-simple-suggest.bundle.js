webpackJsonp([44],{"/7yT":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s("hlPV");s.n(o);t.default={data:function(){return{rg:"",name:"",onSearch:!0,found:{},type:"",tables:["ativos"],result:[],permissions:{},hasPermissions:!1}},mounted:function(){var e=this.$root.getSessionData(),t=Object.values(e.permissions).filter(function(e){return"ver-inativo"==e}),s=Object.values(e.permissions).filter(function(e){return"ver-reserva"==e}),o=Object.values(e.permissions).filter(function(e){return"todas-unidades"==e});this.permissions={inativos:t,reserva:s,unidades:o},this.hasPermissions=!!Object.keys(this.permissions).length},watch:{rg:function(){this.rg.length>2?(this.type="rg",this.search(this.rg)):(this.type="",this.result=[])},name:function(){this.name.length>2?(this.type="nome",this.search(this.name)):(this.type="",this.result=[])}},computed:{getBaseUrl:function(){var e=window.location,t=e.pathname.split("/");return e.protocol+"//"+e.host+"/"+t[1]+"/"}},methods:{search:function(e){var t=this,s=this.getBaseUrl+"api/dados/sugest",o={search:e,type:this.type,tables:this.tables,outrasOpms:this.permissions.unidades,opts:this.tables.length};this.onSearch&&axios.post(s,o).then(function(e){var s=e.data.data;s.length&&(t.result=s)}).catch(function(e){return console.log(e)})},sugestList:function(e){this.type=e},completaInput:function(e){this.type="",this.onSearch=!1,this.found={rg:e.rg,nome:e.nome},this.result=[]},reset:function(){this.onSearch=!0,this.type="",this.found={},this.result=[],this.rg="",this.name=""},goToFdi:function(e){window.location.href=this.getBaseUrl+"fdi/"+e+"/ver"}}}},"1ZaZ":function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"row"},[e.hasPermissions?s("div",{staticClass:"col-md-12 col-xs-12 funkyradio"},[s("div",{staticClass:"funkyradio-primary"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.tables,expression:"tables"}],attrs:{type:"checkbox",id:"checkbox1",value:"ativos"},domProps:{checked:Array.isArray(e.tables)?e._i(e.tables,"ativos")>-1:e.tables},on:{change:function(t){var s=e.tables,o=t.target,i=!!o.checked;if(Array.isArray(s)){var a=e._i(s,"ativos");o.checked?a<0&&(e.tables=s.concat(["ativos"])):a>-1&&(e.tables=s.slice(0,a).concat(s.slice(a+1)))}else e.tables=i}}}),e._v(" "),s("label",{attrs:{for:"checkbox1"}},[e._v("Ativos")])]),e._v(" "),e.permissions.inativos?s("div",{staticClass:"funkyradio-primary"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.tables,expression:"tables"}],attrs:{type:"checkbox",id:"checkbox2",value:"inativos"},domProps:{checked:Array.isArray(e.tables)?e._i(e.tables,"inativos")>-1:e.tables},on:{change:function(t){var s=e.tables,o=t.target,i=!!o.checked;if(Array.isArray(s)){var a=e._i(s,"inativos");o.checked?a<0&&(e.tables=s.concat(["inativos"])):a>-1&&(e.tables=s.slice(0,a).concat(s.slice(a+1)))}else e.tables=i}}}),e._v(" "),s("label",{attrs:{for:"checkbox2"}},[e._v("Inativos")])]):e._e(),e._v(" "),e.permissions.reserva?s("div",{staticClass:"funkyradio-primary"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.tables,expression:"tables"}],attrs:{type:"checkbox",id:"checkbox3",value:"reserva"},domProps:{checked:Array.isArray(e.tables)?e._i(e.tables,"reserva")>-1:e.tables},on:{change:function(t){var s=e.tables,o=t.target,i=!!o.checked;if(Array.isArray(s)){var a=e._i(s,"reserva");o.checked?a<0&&(e.tables=s.concat(["reserva"])):a>-1&&(e.tables=s.slice(0,a).concat(s.slice(a+1)))}else e.tables=i}}}),e._v(" "),s("label",{attrs:{for:"checkbox3"}},[e._v("Reserva")])]):e._e()]):e._e(),e._v(" "),e.tables.length?[s("div",{staticClass:"col-md-6 col-xs-12 form-group"},[s("div",{staticClass:"vue-simple-suggest designed"},[e.onSearch?s("div",{staticClass:"input-wrapper"},[s("the-mask",{staticClass:"form-control",attrs:{mask:"###############",type:"text",maxlength:"15",placeholder:"RG",readonly:e.name.length>0},on:{focus:function(t){return e.sugestList("rg")}},model:{value:e.rg,callback:function(t){e.rg=t},expression:"rg"}})],1):s("div",{staticClass:"input-wrapper"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.found.rg,expression:"found.rg"}],staticClass:"form-control",attrs:{placeholder:"RG",readonly:""},domProps:{value:e.found.rg},on:{input:function(t){t.target.composing||e.$set(e.found,"rg",t.target.value)}}})]),e._v(" "),e.result.length&&"rg"==e.type?s("ul",{staticClass:"suggestions"},e._l(e.result,function(t,o){return s("li",{key:o,staticClass:"suggest-item",on:{click:function(s){return e.completaInput(t)}}},[s("b",[e._v(e._s(t.rg))]),e._v(" "+e._s(t.nome)+"\n                    ")])}),0):e._e()])]),e._v(" "),s("div",{staticClass:"col-md-6 col-xs-12 form-group"},[s("div",{staticClass:"vue-simple-suggest designed"},[e.onSearch?s("div",{staticClass:"input-wrapper"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"form-control",attrs:{placeholder:"Nome",readonly:e.rg.length>0},domProps:{value:e.name},on:{focus:function(t){return e.sugestList("nome")},input:function(t){t.target.composing||(e.name=t.target.value)}}})]):s("div",{staticClass:"input-wrapper"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.found.nome,expression:"found.nome"}],staticClass:"form-control",attrs:{placeholder:"Nome",readonly:""},domProps:{value:e.found.nome},on:{input:function(t){t.target.composing||e.$set(e.found,"nome",t.target.value)}}})]),e._v(" "),e.result.length&&"nome"==e.type?s("ul",{staticClass:"suggestions"},e._l(e.result,function(t,o){return s("li",{key:o,staticClass:"suggest-item",on:{click:function(s){return e.completaInput(t)}}},[s("b",[e._v(e._s(t.nome))]),e._v(" "+e._s(t.rg)+"\n                    ")])}),0):e._e()])]),e._v(" "),e.onSearch?e._e():s("div",{staticClass:"col-md-6 col-xs-12"},[s("a",{staticClass:"btn btn-primary btn-block",on:{click:function(t){return e.goToFdi(e.found.rg)}}},[e._v("Ir para ficha")])]),e._v(" "),e.onSearch?e._e():s("div",{staticClass:"col-md-6 col-xs-12"},[s("a",{staticClass:"btn btn-success btn-block",on:{click:e.reset}},[s("i",{staticClass:"fa fa-search"}),e._v(" Procurar outra ficha")])])]:[e._m(0)]],2)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"col-xs-12"},[t("h4",[this._v("Selecione pelo menos um local para ser feita a busca")])])}]}},"hxp+":function(e,t,s){var o=s("wJpi");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);s("rjj0")("4a4672b8",o,!0,{})},my4b:function(e,t,s){var o=s("VU/8")(s("/7yT"),s("1ZaZ"),!1,function(e){s("hxp+")},null,null);e.exports=o.exports},wJpi:function(e,t,s){(e.exports=s("FZ+f")(!1)).push([e.i,'input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0}.custom-control-input{position:absolute;z-index:-1;opacity:0}.funkyradio div{clear:both;overflow:hidden}.funkyradio label{border-radius:3px;font-weight:400}.funkyradio input[type=checkbox]:empty{display:none}.funkyradio input[type=checkbox]:empty~label{position:relative;line-height:2em;text-indent:2.5em;margin-top:.3em;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.funkyradio input[type=checkbox]:empty~label:before{position:absolute;display:inline;top:0;bottom:0;left:0;content:"";width:2em;background:#d1d3d4;border-radius:3px}.funkyradio input[type=checkbox]:hover:not(:checked)~label{color:#888}.funkyradio input[type=checkbox]:hover:not(:checked)~label:before{content:"\\2714";text-indent:.6em;color:#c2c2c2}.funkyradio input[type=checkbox]:checked~label{color:#777}.funkyradio input[type=checkbox]:checked~label:before{content:"\\2714";text-indent:.6em;color:#333;background-color:#ccc}.funkyradio input[type=checkbox]:focus~label:before{box-shadow:0 0 0 3px #999}.funkyradio-default input[type=checkbox]:checked~label:before{color:#333;background-color:#ccc}.funkyradio-primary input[type=checkbox]:checked~label:before{color:#fff;background-color:#337ab7}.funkyradio-success input[type=checkbox]:checked~label:before{color:#fff;background-color:#5cb85c}.funkyradio-danger input[type=checkbox]:checked~label:before{color:#fff;background-color:#d9534f}.funkyradio-warning input[type=checkbox]:checked~label:before{color:#fff;background-color:#f0ad4e}.funkyradio-info input[type=checkbox]:checked~label:before{color:#fff;background-color:#5bc0de}.vue-simple-suggest>ul{list-style:none;margin:0;padding:0}.vue-simple-suggest{position:relative}*,.vue-simple-suggest.designed{box-sizing:border-box}.input-wrapper input{display:block;width:100%;padding:10px;border:1px solid #cde;border-radius:3px;color:#000;background:#fff;outline:none;transition:all .1s;transition-delay:.05s}.vue-simple-suggest.designed:focus .input-wrapper input{outline:2px solid #2874d5}.suggestions{position:absolute;left:0;right:0;top:100%;top:calc(100% + 5px);border-radius:3px;border:1px solid #aaa;background-color:#fff;opacity:1;z-index:1000}.suggestions .suggest-item{cursor:pointer;user-select:none}.suggestions .misc-item,.suggestions .suggest-item{padding:5px 10px}.suggestions .suggest-item:hover{background-color:#2874d5!important;color:#fff!important}.suggestions .suggest-item.selected{background-color:#2832d5;color:#fff}',""])}});