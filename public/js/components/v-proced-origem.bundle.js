webpackJsonp([24],{CGVq:function(t,o){t.exports={render:function(){var t=this,o=t.$createElement,a=t._self._c||o;return a("div",{staticClass:"col-lg-12 col-md-12 col-xs-12 card"},[t._m(0),t._v(" "),t.only?t._e():a("div",{staticClass:"card-body",class:t.add?"bordaform":""},[t.add?a("div",[a("div",{staticClass:"row",attrs:{id:"ligacaoForm1"}},[a("form",{attrs:{id:"formData",name:"formData"}},[a("input",{attrs:{type:"hidden",name:t.id_proc},domProps:{value:t.idp}}),t._v(" "),a("input",{attrs:{type:"hidden",name:"origem_proc"},domProps:{value:t.origin}}),t._v(" "),a("input",{attrs:{type:"hidden",name:"destino_proc"},domProps:{value:t.dproc}}),t._v(" "),a("input",{attrs:{type:"hidden",name:"destino_sjd_ref"},domProps:{value:t.dref}}),t._v(" "),a("input",{attrs:{type:"hidden",name:"destino_sjd_ref_ano"},domProps:{value:t.dano}}),t._v(" "),a("div",{staticClass:"col-lg-3 col-md-3 col-xs-3 form-group"},[a("label",{attrs:{for:"origem_proc"}},[t._v("Processo/Procedimento")]),a("br"),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.proc,expression:"proc"}],staticClass:"form-control",attrs:{name:"origem_proc"},on:{change:function(o){var a=Array.prototype.filter.call(o.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.proc=o.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}},[t._v("Escolha")]),t._v(" "),a("option",{attrs:{value:"ipm"}},[t._v("IPM")]),t._v(" "),a("option",{attrs:{value:"sindicancia"}},[t._v("SINDICÂNCIA")]),t._v(" "),a("option",{attrs:{value:"cd"}},[t._v("CD")]),t._v(" "),a("option",{attrs:{value:"cj"}},[t._v("CJ")]),t._v(" "),a("option",{attrs:{value:"apfdc"}},[t._v("APFDC")]),t._v(" "),a("option",{attrs:{value:"apfdm"}},[t._v("APFDM")]),t._v(" "),a("option",{attrs:{value:"fatd"}},[t._v("FATD")]),t._v(" "),a("option",{attrs:{value:"iso"}},[t._v("ISO")]),t._v(" "),a("option",{attrs:{value:"desercao"}},[t._v("DESERÇÃO")]),t._v(" "),a("option",{attrs:{value:"it"}},[t._v("IT")]),t._v(" "),a("option",{attrs:{value:"adl"}},[t._v("ADL")]),t._v(" "),a("option",{attrs:{value:"pad"}},[t._v("PAD")]),t._v(" "),a("option",{attrs:{value:"sai"}},[t._v("SAI")]),t._v(" "),a("option",{attrs:{value:"proc_outros"}},[t._v("PROC. OUTROS")])])]),t._v(" "),a("div",{staticClass:"col-lg-2 col-md-2 col-xs 2"},[a("label",{attrs:{for:"origem_sjd_ref"}},[t._v("Referência")]),a("br"),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.ref,expression:"ref"}],staticClass:"numero form-control",attrs:{type:"text",maxlength:"4",name:"origem_sjd_ref",placeholder:"Nº",value:""},domProps:{value:t.ref},on:{input:function(o){o.target.composing||(t.ref=o.target.value)}}})]),t._v(" "),a("div",{staticClass:"col-lg-2 col-md-2 col-xs 2"},[a("label",{attrs:{for:"origem_sjd_ref_ano"}},[t._v("Ano")]),a("br"),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.ano,expression:"ano"}],staticClass:"form-control",attrs:{name:"origem_sjd_ref_ano"},on:{change:function(o){var a=Array.prototype.filter.call(o.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.ano=o.target.multiple?a:a[0]}}},t._l(t.years,function(o){return a("option",{key:o,domProps:{value:o}},[t._v(t._s(o))])}),0)]),t._v(" "),a("div",{staticClass:"col-lg-1 col-md-1 col-xs 1"},[a("label",[t._v("Buscar")]),a("br"),t._v(" "),a("a",{staticClass:"btn btn-info btn-block",on:{click:function(o){return t.searchProc()}}},[a("i",{staticClass:"fa fa-search",staticStyle:{color:"white"}})])]),t._v(" "),a("div",{staticClass:"col-lg-2 col-md-2 col-xs 2"},[a("label",[t._v("OM")]),a("br"),t._v(" "),a("input",{staticClass:"form-control",attrs:{readonly:"",type:"text",size:"35",name:"origem_opm",placeholder:"Apenas para conferência"},domProps:{value:t.opm}})]),t._v(" "),a("div",{staticClass:"col-lg-1 col-md-1 col-xs 1"},[a("label",[t._v("Cancelar")]),a("br"),t._v(" "),a("a",{staticClass:"btn btn-danger btn-block",on:{click:t.cancel}},[a("i",{staticClass:"fa fa-times",staticStyle:{color:"white"}})])]),t._v(" "),a("div",{staticClass:"col-lg-1 col-md-1 col-xs 1"},[a("label",[t._v("Adicionar")]),a("br"),t._v(" "),a("a",{staticClass:"btn btn-success btn-block",attrs:{disabled:!t.finded},on:{click:t.createProc}},[a("i",{staticClass:"fa fa-plus",staticStyle:{color:"white"}})])])])])]):a("div",[a("button",{staticClass:"btn btn-success btn-block",on:{click:function(o){t.add=!t.add}}},[a("i",{staticClass:"fa fa-plus"}),t._v(" Adicionar documento de origem")])])]),t._v(" "),a("div",{staticClass:"card-footer"},[t.procedimentos.length?a("div",{staticClass:"row bordaform"},[a("div",{staticClass:"col-sm-12"},[a("table",{staticClass:"table table-hover"},[t._m(1),t._v(" "),a("tbody",t._l(t.procedimentos,function(o,e){return a("tr",{key:e},[a("td",[t._v("\n                                "+t._s(e+1)+"\n                            ")]),t._v(" "),a("td",[t._v("\n                                "+t._s(t._f("uppercase")(o.origem_proc))+" \n                            ")]),t._v(" "),a("td",[t._v("\n                                "+t._s(o.origem_sjd_ref)+"\n                            ")]),t._v(" "),a("td",[t._v("\n                                "+t._s(o.origem_sjd_ref_ano)+"\n                            ")]),t._v(" "),a("td",[a("div",{staticClass:"btn-group",attrs:{role:"group","aria-label":"First group"}},[a("a",{staticClass:"btn btn-primary",staticStyle:{color:"white"},attrs:{type:"button",target:"_blanck"},on:{click:function(a){return t.showProc(o.origem_proc,o.origem_sjd_ref,o.origem_sjd_ref_ano)}}},[a("i",{staticClass:"fa fa-eye"})]),t._v(" "),t.canDelete?a("a",{staticClass:"btn btn-danger",staticStyle:{color:"white"},attrs:{type:"button"},on:{click:function(a){return t.removeProc(o.id_ligacao)}}},[a("i",{staticClass:"fa fa-trash"})]):t._e()])])])}),0)])])]):!t.procedimentos.length&&t.only?a("div",[t._m(2)]):t._e()])])},staticRenderFns:[function(){var t=this.$createElement,o=this._self._c||t;return o("div",{staticClass:"card-header"},[o("h5",[o("b",[this._v("Procedimento(s) de Origem (apenas se houver)")])])])},function(){var t=this,o=t.$createElement,a=t._self._c||o;return a("thead",[a("tr",[a("th",{staticClass:"col-sm-2"},[t._v("#")]),t._v(" "),a("th",{staticClass:"col-sm-2"},[t._v("Proc")]),t._v(" "),a("th",{staticClass:"col-sm-3"},[t._v("Ref.")]),t._v(" "),a("th",{staticClass:"col-sm-3"},[t._v("Ano")]),t._v(" "),a("th",{staticClass:"col-sm-2"},[t._v("Ver/Apagar Ligação")])])])},function(){var t=this.$createElement,o=this._self._c||t;return o("h5",[o("b",[this._v("Não há registtros")])])}]}},WK5o:function(t,o,a){var e=a("VU/8")(a("a5QF"),a("CGVq"),!1,function(t){a("nw8b")},"data-v-6276694f",null);t.exports=e.exports},a5QF:function(t,o,a){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var e=a("s9Db");function s(t,o,a){return o in t?Object.defineProperty(t,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[o]=a,t}o.default={mixins:[e.a],props:{unique:{type:Boolean,default:!1},dproc:{type:String,default:""},dref:{type:String,default:""},dano:{type:String,default:""}},data:function(){var t;return s(t={proc:"",ref:"",ano:"",opm:"",action:"editar",procedimentos:[]},"action","proc"),s(t,"params",""),s(t,"finded",!1),s(t,"counter",0),s(t,"id_proc",""),s(t,"origin",""),s(t,"only",!1),t},beforeMount:function(){this.listProc(),this.verifyOnly()},filters:{uppercase:function(t){return t.toUpperCase()}},computed:{years:function(){var t=(new Date).getFullYear();return Array.from({length:t-2008},function(t,o){return 2009+o})},canDelete:function(){return this.$root.hasPermission("apagar-procedimento-origem")}},methods:{searchProc:function(){var t=this;this.opm="";var o=this.$root.baseUrl+"api/dados/proc/"+this.proc+"/"+this.ref+"/"+this.ano;this.proc&&this.ref&&this.ano&&axios.get(o).then(function(o){t.opm=o.data.opm,t.idp=o.data.id,t.finded=o.data.success}).catch(function(t){return console.log(t)})},createProc:function(){var t=this,o=this.$root.baseUrl+"api/ligacao/store",a=document.getElementById("formData"),e=new FormData(a);axios.post(o,e).then(this.listProc).catch(function(o){console.log(o),t.erro="Erro ao enviar arquivo"})},listProc:function(){var t=this,o=this.dano?this.$root.baseUrl+"api/ligacao/list/"+this.dproc+"/"+this.dref+"/"+this.dano:this.$root.baseUrl+"api/ligacao/list/"+this.dproc+"/"+this.dref;axios.get(o).then(function(o){t.procedimentos=o.data}).then(this.clear).catch(function(t){return console.log(t)})},showProc:function(t,o,a){var e=""+this.$root.baseUrl+t+"/"+this.action+"/"+o+"/"+a;window.open(e,"_blank")},removeProc:function(t){var o=this.$root.baseUrl+"api/ligacao/destroy/"+t;axios.delete(o).then(this.listProc).catch(function(t){return console.log(t)})},verifyOnly:function(){1==this.unique?this.only=!0:this.only=!1},cancel:function(){this.add=!1,this.proc="",this.ref="",this.ano="",this.opm=""},clear:function(){this.proc="",this.ref="",this.ano="",this.opm=""}},watch:{proc:function(){var t="apfdc"==this.proc||"apfdm"==this.proc?"apfd":this.proc;this.id_proc="id_"+t,this.origin=t}}}},nw8b:function(t,o,a){var e=a("oBbC");"string"==typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);a("rjj0")("0ce7c0de",e,!0,{})},oBbC:function(t,o,a){(t.exports=a("FZ+f")(!1)).push([t.i,"",""])},s9Db:function(t,o,a){"use strict";o.a={data:function(){return{add:!1}},methods:{list:function(){var t=this,o=this.$root.baseUrl+"api/"+this.module+"/list/"+this.rg;this.rg&&axios.get(o).then(function(o){t.registros=o.data}).catch(function(t){return console.log(t)})},create:function(){var t=this,o=this.$root.baseUrl+"api/"+this.module+"/store";axios.post(o,this.registro).then(function(o){t.transation(o.data.success,"create")}).catch(function(t){return console.log(t)}),this.showModal=!1},edit:function(t){this.registro=t,this.showModal=!0},update:function(t){var o=this,a=this.$root.baseUrl+"api/"+this.module+"/update/"+t;axios.put(a,this.registro).then(function(t){o.transation(t.data.success,"edit")}).catch(function(t){return console.log(t)})},destroy:function(t){var o=this;if(confirm("Você tem certeza?")){var a=this.$root.baseUrl+"api/"+this.module+"/destroy/"+t;axios.delete(a).then(function(t){o.transation(t.data.success,"delete")}).catch(function(t){return console.log(t)})}},transation:function(t,o){var a=this.words(o);this.showModal=!1,t?(this.list(),this.$root.msg(a.success,"success"),this.registro=[]):this.$root.msg(a.fail,"danger")},words:function(t){return"create"==t?{success:"Inserido com sucesso",fail:"Erro ao inserir"}:"edit"==t?{success:"Editado com sucesso",fail:"Erro ao editar"}:"delete"==t?{success:"Apagado com sucesso",fail:"Erro ao apagar"}:void 0}}}}});