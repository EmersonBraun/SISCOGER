webpackJsonp([25],{"PX+A":function(t,o,e){(t.exports=e("FZ+f")(!1)).push([t.i,"",""])},WK5o:function(t,o,e){var a=e("VU/8")(e("a5QF"),e("hgV7"),!1,function(t){e("n/B6")},"data-v-2f5a3726",null);t.exports=a.exports},a5QF:function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var a=e("s9Db");function s(t,o,e){return o in t?Object.defineProperty(t,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[o]=e,t}o.default={mixins:[a.a],props:{unique:{type:Boolean,default:!1}},data:function(){var t;return s(t={proc:"",ref:"",ano:"",opm:"",action:"editar",procedimentos:[]},"action","proc"),s(t,"params",""),s(t,"finded",!1),s(t,"counter",0),s(t,"id_proc",""),s(t,"idp",""),s(t,"origin",""),s(t,"only",!1),t},beforeMount:function(){this.listProc(),this.verifyOnly()},filters:{uppercase:function(t){return t.toUpperCase()}},computed:{years:function(){var t=(new Date).getFullYear();return Array.from({length:t-2008},function(t,o){return 2009+o})},canDelete:function(){return this.permissions.includes("apagar-procedimento-origem")}},methods:{searchProc:function(){var t=this;this.opm="";var o=this.getBaseUrl+"api/dados/proc/"+this.proc+"/"+this.ref+"/"+this.ano;this.proc&&this.ref&&this.ano&&axios.get(o).then(function(o){t.opm=o.data.opm,t.idp=o.data.id,t.finded=o.data.success}).catch(function(t){return console.log(t)})},createProc:function(){var t=this,o=this.getBaseUrl+"api/ligacao/store",e=document.getElementById("formData"),a=new FormData(e);axios.post(o,a).then(this.listProc).catch(function(o){console.log(o),t.erro="Erro ao enviar arquivo"})},listProc:function(){var t=this,o=this.dano?this.getBaseUrl+"api/ligacao/list/"+this.dproc+"/"+this.dref+"/"+this.dano:this.getBaseUrl+"api/ligacao/list/"+this.dproc+"/"+this.dref;axios.get(o).then(function(o){t.procedimentos=o.data}).then(this.clear).catch(function(t){return console.log(t)})},showProc:function(t,o,e){var a=""+this.getBaseUrl+t+"/"+this.action+"/"+o+"/"+e;window.open(a,"_blank")},removeProc:function(t){var o=this.getBaseUrl+"api/ligacao/destroy/"+t;axios.delete(o).then(this.listProc).catch(function(t){return console.log(t)})},verifyOnly:function(){1==this.unique?this.only=!0:this.only=!1},cancel:function(){this.add=!1,this.proc="",this.ref="",this.ano="",this.opm=""},clear:function(){this.proc="",this.ref="",this.ano="",this.opm=""}},watch:{proc:function(){var t="apfdc"==this.proc||"apfdm"==this.proc?"apfd":this.proc;this.id_proc="id_"+t,this.origin=t}}}},hgV7:function(t,o){t.exports={render:function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"col-lg-12 col-md-12 col-xs-12 card"},[t._m(0),t._v(" "),t.only?t._e():e("div",{staticClass:"card-body",class:t.add?"bordaform":""},[t.add?e("div",[e("div",{staticClass:"row",attrs:{id:"ligacaoForm1"}},[e("form",{attrs:{id:"formData",name:"formData"}},[e("input",{attrs:{type:"hidden",name:t.id_proc},domProps:{value:t.idp}}),t._v(" "),e("input",{attrs:{type:"hidden",name:"origem_proc"},domProps:{value:t.origin}}),t._v(" "),e("input",{attrs:{type:"hidden",name:"destino_proc"},domProps:{value:t.dproc}}),t._v(" "),e("input",{attrs:{type:"hidden",name:"destino_sjd_ref"},domProps:{value:t.dref}}),t._v(" "),e("input",{attrs:{type:"hidden",name:"destino_sjd_ref_ano"},domProps:{value:t.dano}}),t._v(" "),e("div",{staticClass:"col-lg-3 col-md-3 col-xs-3 form-group"},[e("label",{attrs:{for:"origem_proc"}},[t._v("Processo/Procedimento")]),e("br"),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.proc,expression:"proc"}],staticClass:"form-control",attrs:{name:"origem_proc"},on:{change:function(o){var e=Array.prototype.filter.call(o.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.proc=o.target.multiple?e:e[0]}}},[e("option",{attrs:{value:""}},[t._v("Escolha")]),t._v(" "),e("option",{attrs:{value:"ipm"}},[t._v("IPM")]),t._v(" "),e("option",{attrs:{value:"sindicancia"}},[t._v("SINDICÂNCIA")]),t._v(" "),e("option",{attrs:{value:"cd"}},[t._v("CD")]),t._v(" "),e("option",{attrs:{value:"cj"}},[t._v("CJ")]),t._v(" "),e("option",{attrs:{value:"apfdc"}},[t._v("APFDC")]),t._v(" "),e("option",{attrs:{value:"apfdm"}},[t._v("APFDM")]),t._v(" "),e("option",{attrs:{value:"fatd"}},[t._v("FATD")]),t._v(" "),e("option",{attrs:{value:"iso"}},[t._v("ISO")]),t._v(" "),e("option",{attrs:{value:"desercao"}},[t._v("DESERÇÃO")]),t._v(" "),e("option",{attrs:{value:"it"}},[t._v("IT")]),t._v(" "),e("option",{attrs:{value:"adl"}},[t._v("ADL")]),t._v(" "),e("option",{attrs:{value:"pad"}},[t._v("PAD")]),t._v(" "),e("option",{attrs:{value:"sai"}},[t._v("SAI")]),t._v(" "),e("option",{attrs:{value:"proc_outros"}},[t._v("PROC. OUTROS")])])]),t._v(" "),e("div",{staticClass:"col-lg-2 col-md-2 col-xs 2"},[e("label",{attrs:{for:"origem_sjd_ref"}},[t._v("Referência")]),e("br"),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.ref,expression:"ref"}],staticClass:"numero form-control",attrs:{type:"text",maxlength:"4",name:"origem_sjd_ref",placeholder:"Nº",value:""},domProps:{value:t.ref},on:{input:function(o){o.target.composing||(t.ref=o.target.value)}}})]),t._v(" "),e("div",{staticClass:"col-lg-2 col-md-2 col-xs 2"},[e("label",{attrs:{for:"origem_sjd_ref_ano"}},[t._v("Ano")]),e("br"),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.ano,expression:"ano"}],staticClass:"form-control",attrs:{name:"origem_sjd_ref_ano"},on:{change:function(o){var e=Array.prototype.filter.call(o.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.ano=o.target.multiple?e:e[0]}}},t._l(t.years,function(o){return e("option",{key:o,domProps:{value:o}},[t._v(t._s(o))])}),0)]),t._v(" "),e("div",{staticClass:"col-lg-1 col-md-1 col-xs 1"},[e("label",[t._v("Buscar")]),e("br"),t._v(" "),e("a",{staticClass:"btn btn-info btn-block",on:{click:function(o){return t.searchProc()}}},[e("i",{staticClass:"fa fa-search",staticStyle:{color:"white"}})])]),t._v(" "),e("div",{staticClass:"col-lg-2 col-md-2 col-xs 2"},[e("label",[t._v("OM")]),e("br"),t._v(" "),e("input",{staticClass:"form-control",attrs:{readonly:"",type:"text",size:"35",name:"origem_opm",placeholder:"Apenas para conferência"},domProps:{value:t.opm}})]),t._v(" "),e("div",{staticClass:"col-lg-1 col-md-1 col-xs 1"},[e("label",[t._v("Cancelar")]),e("br"),t._v(" "),e("a",{staticClass:"btn btn-danger btn-block",on:{click:t.cancel}},[e("i",{staticClass:"fa fa-times",staticStyle:{color:"white"}})])]),t._v(" "),e("div",{staticClass:"col-lg-1 col-md-1 col-xs 1"},[e("label",[t._v("Adicionar")]),e("br"),t._v(" "),e("a",{staticClass:"btn btn-success btn-block",attrs:{disabled:!t.finded},on:{click:t.createProc}},[e("i",{staticClass:"fa fa-plus",staticStyle:{color:"white"}})])])])])]):e("div",[e("button",{staticClass:"btn btn-success btn-block",on:{click:function(o){t.add=!t.add}}},[e("i",{staticClass:"fa fa-plus"}),t._v(" Adicionar documento de origem")])])]),t._v(" "),e("div",{staticClass:"card-footer"},[t.procedimentos.length?e("div",{staticClass:"row bordaform"},[e("div",{staticClass:"col-sm-12"},[e("table",{staticClass:"table table-hover"},[t._m(1),t._v(" "),e("tbody",t._l(t.procedimentos,function(o,a){return e("tr",{key:a},[e("td",[t._v("\n                                "+t._s(a+1)+"\n                            ")]),t._v(" "),e("td",[t._v("\n                                "+t._s(t._f("uppercase")(o.origem_proc))+" "+t._s(o.origem_sjd_ref)+"/"+t._s(o.origem_sjd_ref_ano)+"\n                            ")]),t._v(" "),e("td",[e("div",{staticClass:"btn-group",attrs:{role:"group","aria-label":"First group"}},[e("a",{staticClass:"btn btn-primary",staticStyle:{color:"white"},attrs:{type:"button",target:"_blanck"},on:{click:function(e){return t.showProc(o.origem_proc,o.origem_sjd_ref,o.origem_sjd_ref_ano)}}},[e("i",{staticClass:"fa fa-eye"})]),t._v(" "),t.canDelete?e("a",{staticClass:"btn btn-danger",staticStyle:{color:"white"},attrs:{type:"button"},on:{click:function(e){return t.removeProc(o.id_ligacao)}}},[e("i",{staticClass:"fa fa-trash"})]):t._e()])])])}),0)])])]):!t.procedimentos.length&&t.only?e("div",[t._m(2)]):t._e()])])},staticRenderFns:[function(){var t=this.$createElement,o=this._self._c||t;return o("div",{staticClass:"card-header"},[o("h5",[o("b",[this._v("Procedimento(s) de Origem (apenas se houver)")])])])},function(){var t=this.$createElement,o=this._self._c||t;return o("thead",[o("tr",[o("th",{staticClass:"col-sm-2"},[this._v("#")]),this._v(" "),o("th",{staticClass:"col-sm-8"},[this._v("Proc. REF/ANO")]),this._v(" "),o("th",{staticClass:"col-sm-2"},[this._v("Ver/Apagar Ligação")])])])},function(){var t=this.$createElement,o=this._self._c||t;return o("h5",[o("b",[this._v("Não há registtros")])])}]}},"n/B6":function(t,o,e){var a=e("PX+A");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);e("rjj0")("544079a9",a,!0,{})},s9Db:function(t,o,e){"use strict";o.a={methods:{list:function(){var t=this,o=this.$root.baseUrl+"api/"+this.module+"/list/"+this.rg;this.rg&&axios.get(o).then(function(o){t.registros=o.data}).catch(function(t){return console.log(t)})},create:function(){var t=this,o=this.$root.baseUrl+"api/"+this.module+"/store";axios.post(o,this.registro).then(function(o){t.transation(o.data.success,"create")}).catch(function(t){return console.log(t)}),this.showModal=!1},edit:function(t){this.registro=t,this.showModal=!0},update:function(t){var o=this,e=this.$root.baseUrl+"api/"+this.module+"/update/"+t;axios.put(e,this.registro).then(function(t){o.transation(t.data.success,"edit")}).catch(function(t){return console.log(t)})},destroy:function(t){var o=this;if(confirm("Você tem certeza?")){var e=this.$root.baseUrl+"api/"+this.module+"/destroy/"+t;axios.delete(e).then(function(t){o.transation(t.data.success,"delete")}).catch(function(t){return console.log(t)})}},transation:function(t,o){var e=this.words(o);this.showModal=!1,t?(this.list(),this.$root.msg(e.success,"success"),this.registro=[]):this.$root.msg(e.fail,"danger")},words:function(t){return"create"==t?{success:"Inserido com sucesso",fail:"Erro ao inserir"}:"edit"==t?{success:"Editado com sucesso",fail:"Erro ao editar"}:"delete"==t?{success:"Apagado com sucesso",fail:"Erro ao apagar"}:void 0}}}}});