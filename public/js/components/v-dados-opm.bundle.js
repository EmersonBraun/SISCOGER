webpackJsonp([68],{"2QN6":function(t,o,e){(t.exports=e("FZ+f")(!1)).push([t.i,"td[data-v-3bcbbec7]{white-space:normal!important;word-wrap:break-word}table[data-v-3bcbbec7]{table-layout:fixed}",""])},CkOW:function(t,o){t.exports={render:function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-xs-12"},[e("div",{staticClass:"box"},[e("div",{staticClass:"box-header"},[t.registro.opm_nome_por_extenso?e("h2",{staticClass:"box-title"},[t._v(t._s(t.registro.opm_nome_por_extenso))]):e("h2",{staticClass:"box-title"},[t._v("Dados cadastrais da Unidade ")]),t._v(" "),t._m(0)]),t._v(" "),e("div",{staticClass:"box-body"},[e("div",{staticClass:"col-md-12 col-xs-12"},[e("v-label",{attrs:{lg:"6",md:"6",label:"opm_intermediaria_cdopm",title:"OM Interm."}},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.registro.opm_intermediaria_cdopm,expression:"registro.opm_intermediaria_cdopm"}],staticClass:"form-control",on:{change:function(o){var e=Array.prototype.filter.call(o.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.registro,"opm_intermediaria_cdopm",o.target.multiple?e:e[0])}}},[e("option",{attrs:{value:"0"}},[t._v("CG")]),t._v(" "),e("option",{attrs:{value:"010"}},[t._v("SUBCG")]),t._v(" "),e("option",{attrs:{value:"1"}},[t._v("EM")]),t._v(" "),e("option",{attrs:{value:"2"}},[t._v("1CRPM")]),t._v(" "),e("option",{attrs:{value:"3"}},[t._v("2CRPM")]),t._v(" "),e("option",{attrs:{value:"4"}},[t._v("3CRPM")]),t._v(" "),e("option",{attrs:{value:"5"}},[t._v("4CRPM")]),t._v(" "),e("option",{attrs:{value:"6"}},[t._v("5CRPM")]),t._v(" "),e("option",{attrs:{value:"7"}},[t._v("6CRPM")]),t._v(" "),e("option",{attrs:{value:"9"}},[t._v("CCB")])])]),t._v(" "),e("v-label",{attrs:{lg:"6",md:"6",label:"opm_intermediaria_nome_por_extenso",title:"Nome da Unidade Intermediaria por extenso"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.registro.opm_intermediaria_nome_por_extenso,expression:"registro.opm_intermediaria_nome_por_extenso"}],staticClass:"form-control",attrs:{size:"45",type:"text"},domProps:{value:t.registro.opm_intermediaria_nome_por_extenso},on:{input:function(o){o.target.composing||t.$set(t.registro,"opm_intermediaria_nome_por_extenso",o.target.value)}}})]),t._v(" "),e("v-label",{attrs:{lg:"6",md:"6",label:"opm_nome_por_extenso",title:"Nome da Unidade por extenso"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.registro.opm_nome_por_extenso,expression:"registro.opm_nome_por_extenso"}],staticClass:"form-control",attrs:{size:"45",type:"text"},domProps:{value:t.registro.opm_nome_por_extenso},on:{input:function(o){o.target.composing||t.$set(t.registro,"opm_nome_por_extenso",o.target.value)}}})]),t._v(" "),e("v-label",{attrs:{lg:"6",md:"6",label:"id_municipio",title:"Municipio"}},[e("v-municipio",{attrs:{id_municipio:t.registro.id_municipio},model:{value:t.registro.id_municipio,callback:function(o){t.$set(t.registro,"id_municipio",o)},expression:"registro.id_municipio"}})],1),t._v(" "),e("v-label",{attrs:{label:"opm_autoridade_rg",title:"RG"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.registro.opm_autoridade_rg,expression:"registro.opm_autoridade_rg"}],staticClass:"form-control",attrs:{size:"45",type:"text"},domProps:{value:t.registro.opm_autoridade_rg},on:{keyup:t.dadosPM,input:function(o){o.target.composing||t.$set(t.registro,"opm_autoridade_rg",o.target.value)}}})]),t._v(" "),e("v-label",{attrs:{label:"opm_autoridade_nome",title:"Comandante/Chefe/Diretor"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.registro.opm_autoridade_nome,expression:"registro.opm_autoridade_nome"}],staticClass:"form-control",attrs:{size:"45",readonly:"",type:"text"},domProps:{value:t.registro.opm_autoridade_nome},on:{input:function(o){o.target.composing||t.$set(t.registro,"opm_autoridade_nome",o.target.value)}}})]),t._v(" "),e("v-label",{attrs:{label:"opm_autoridade_funcao",title:"Função"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.registro.opm_autoridade_funcao,expression:"registro.opm_autoridade_funcao"}],staticClass:"form-control",attrs:{size:"45",type:"text"},domProps:{value:t.registro.opm_autoridade_funcao},on:{input:function(o){o.target.composing||t.$set(t.registro,"opm_autoridade_funcao",o.target.value)}}})]),t._v(" "),e("div",{staticClass:"col-xs-12"},[t.canCreate?[e("v-tooltip",{attrs:{effect:"scale",placement:"top",content:t.msgRequired}},[t.registro.id_cadastroopmcoger?e("a",{staticClass:"btn btn-success btn-block",attrs:{disabled:t.requireds},on:{click:function(o){return o.preventDefault(),t.update(t.registro.id_cadastroopmcoger)}}},[t._v("Editar")]):e("a",{staticClass:"btn btn-success btn-block",attrs:{disabled:t.requireds},on:{click:t.create}},[t._v("Inserir")])])]:t._e()],2)],1)])])]),t._v(" "),t.registro.id_cadastroopmcoger?[e("v-outras-autoridades",{attrs:{id_cadastroopmcoger:t.registro.id_cadastroopmcoger}})]:t._e()],2)},staticRenderFns:[function(){var t=this.$createElement,o=this._self._c||t;return o("div",{staticClass:"box-tools pull-right"},[o("button",{staticClass:"btn btn-box-tool",attrs:{type:"button","data-widget":"collapse"}},[o("i",{staticClass:"fa fa-plus"})])])}]}},"G/zG":function(t,o,e){var r=e("2QN6");"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);e("rjj0")("f6c9fd14",r,!0,{})},"Jq+R":function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default={data:function(){return{module:"cadastroopm",om:"",registro:{},canCreate:!1,canEdit:!1}},created:function(){this.om=this.$root.dadoSession("cdopmbase"),this.rg=this.$root.dadoSession("rg"),this.canCreate=this.$root.hasPermission("criar-dados-unidade"),this.canEdit=this.$root.hasPermission("editar-dados-unidade"),this.get()},computed:{requireds:function(){return!this.registro.opm_nome_por_extenso||!this.registro.opm_autoridade_rg},msgRequired:function(){return"Para liberar este botão os campos: NOME DA UNIDADE e RG deve estar preenchidos"}},methods:{get:function(){var t=this,o=this.$root.baseUrl+"api/"+this.module+"/get/"+this.om;this.om&&axios.get(o).then(function(o){t.registro=o.data[0]}).catch(function(t){return console.log(t)})},toCreate:function(){this.showModal=!0,this.registro.usuario_rg=this.rg},create:function(){var t=this;if(!this.requireds){var o=this.$root.baseUrl+"api/"+this.module+"/store";axios.post(o,this.registro).then(function(o){t.transation(o.data.success,"create")}).catch(function(t){return console.log(t)}),this.showModal=!1}},edit:function(t){this.registro=t,this.showModal=!0},update:function(t){var o=this;if(!this.requireds){var e=this.$root.baseUrl+"api/"+this.module+"/update/"+t;axios.put(e,this.registro).then(function(t){o.transation(t.data.success,"edit")}).catch(function(t){return console.log(t)})}},destroy:function(t){var o=this;if(confirm("Você tem certeza?")){var e=this.$root.baseUrl+"api/"+this.module+"/destroy/"+t;axios.delete(e).then(function(t){o.transation(t.data.success,"delete")}).catch(function(t){return console.log(t)})}},transation:function(t,o){var e=this.words(o);this.showModal=!1,t?this.$root.msg(e.success,"success"):this.$root.msg(e.fail,"danger")},words:function(t){return"create"==t?{success:"Inserido com sucesso",fail:"Erro ao inserir"}:"edit"==t?{success:"Editado com sucesso",fail:"Erro ao editar"}:"delete"==t?{success:"Apagado com sucesso",fail:"Erro ao apagar"}:void 0},dadosPM:function(){var t=this;if(this.registro.opm_autoridade_rg.length>3){var o=this.$root.baseUrl+"api/dados/pm/"+this.registro.opm_autoridade_rg;axios.get(o).then(function(o){console.log(o.data.pm);var e=o.data.pm;t.registro.opm_autoridade_cargo=e.CARGO,t.registro.opm_autoridade_quadro=e.QUADRO,t.registro.opm_autoridade_subquadro=e.SUBQUADRO;var r=t.$root.formatUcwords(e.CARGO);console.log(r);var a=t.registro.opm_autoridade_quadro,i=t.$root.formatUcwords(e.NOME);t.registro.opm_autoridade_nome=r+". "+a+" "+i}).catch(function(t){return console.log(t)})}}}}},snmd:function(t,o,e){var r=e("VU/8")(e("Jq+R"),e("CkOW"),!1,function(t){e("G/zG")},"data-v-3bcbbec7",null);t.exports=r.exports}});