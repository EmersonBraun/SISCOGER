webpackJsonp([73],{"7FTI":function(e,t,o){(e.exports=o("FZ+f")(!1)).push([e.i,"",""])},NT64:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[e.id_notacomparecimento?e._e():o("v-label",{attrs:{label:"cdopm",title:"OPM"}},[o("v-opm",{attrs:{name:"cdopm",cdopm:e.registro.cdopm},model:{value:e.registro.cdopm,callback:function(t){e.$set(e.registro,"cdopm",t)},expression:"registro.cdopm"}})],1),e._v(" "),e.id_notacomparecimento?e._e():o("v-label",{attrs:{title:"Notificação"}},[o("select",{directives:[{name:"model",rawName:"v-model",value:e.registro.id_apresentacaonotificacao,expression:"registro.id_apresentacaonotificacao"}],staticClass:"form-control",on:{change:function(t){var o=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.registro,"id_apresentacaonotificacao",t.target.multiple?o:o[0])}}},[o("option",{attrs:{value:"1"}},[e._v("Pendente")]),e._v(" "),o("option",{attrs:{value:"2"}},[e._v("Notificado")]),e._v(" "),o("option",{attrs:{value:"3"}},[e._v("Não notificado")])])]),e._v(" "),e.id_notacomparecimento?e._e():o("v-label",{attrs:{title:"Situação",error:e.error.id_apresentacaosituacao}},[o("select",{directives:[{name:"model",rawName:"v-model",value:e.registro.id_apresentacaosituacao,expression:"registro.id_apresentacaosituacao"}],staticClass:"form-control",on:{change:function(t){var o=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.registro,"id_apresentacaosituacao",t.target.multiple?o:o[0])}}},[o("option",{attrs:{value:"1"}},[e._v("Prevista")]),e._v(" "),o("option",{attrs:{value:"2"}},[e._v("Compareceu/Realizada")]),e._v(" "),o("option",{attrs:{value:"3"}},[e._v("Compareceu/Cancelada")]),e._v(" "),o("option",{attrs:{value:"4"}},[e._v("Compareceu/Redesignada")]),e._v(" "),o("option",{attrs:{value:"5"}},[e._v("Não compareceu")]),e._v(" "),o("option",{attrs:{value:"6"}},[e._v("Não compareceu/Justificado")]),e._v(" "),o("option",{attrs:{value:"7"}},[e._v("Redesignada")]),e._v(" "),o("option",{attrs:{value:"8"}},[e._v("Substituído (Cons. VAJME)")]),e._v(" "),o("option",{attrs:{value:"9"}},[e._v("Ag. Publicação")]),e._v(" "),o("option",{attrs:{value:"10"}},[e._v("Apagada")])])]),e._v(" "),e.id_notacomparecimento?e._e():o("v-label",{attrs:{title:"Classificação de sigilo",error:e.error.id_apresentacaoclassificacaosigilo}},[o("select",{directives:[{name:"model",rawName:"v-model",value:e.registro.id_apresentacaoclassificacaosigilo,expression:"registro.id_apresentacaoclassificacaosigilo"}],staticClass:"form-control",on:{change:function(t){var o=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.registro,"id_apresentacaoclassificacaosigilo",t.target.multiple?o:o[0])}}},[o("option",{attrs:{value:"1"}},[e._v("Publico")]),e._v(" "),o("option",{attrs:{value:"2"}},[e._v("Usuário Siscoger")]),e._v(" "),o("option",{attrs:{value:"3"}},[e._v("Reservado - SDJ/Pares/Superiores")]),e._v(" "),o("option",{attrs:{value:"4"}},[e._v("Reservado - Somente o próprio")]),e._v(" "),o("option",{attrs:{value:"5"}},[e._v("Reservado - SJD/Próprio")])])]),e._v(" "),o("v-label",{attrs:{title:"Processo/Procedimento",error:e.error.id_apresentacaotipoprocesso}},[o("select",{directives:[{name:"model",rawName:"v-model",value:e.registro.id_apresentacaotipoprocesso,expression:"registro.id_apresentacaotipoprocesso"}],staticClass:"form-control",on:{change:function(t){var o=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.registro,"id_apresentacaotipoprocesso",t.target.multiple?o:o[0])}}},[o("option",{attrs:{value:"1"}},[e._v("Ação Penal")]),e._v(" "),o("option",{attrs:{value:"2"}},[e._v("Ação Civil")]),e._v(" "),o("option",{attrs:{value:"3"}},[e._v("Não informado")]),e._v(" "),o("option",{attrs:{value:"4"}},[e._v("Não se aplica")]),e._v(" "),o("option",{attrs:{value:"5"}},[e._v("PM-IPM")]),e._v(" "),o("option",{attrs:{value:"6"}},[e._v("PM-Sindicância")]),e._v(" "),o("option",{attrs:{value:"7"}},[e._v("PM-FATD")]),e._v(" "),o("option",{attrs:{value:"8"}},[e._v("PM-Inquérito Técnico")]),e._v(" "),o("option",{attrs:{value:"9"}},[e._v("PM-CJ")]),e._v(" "),o("option",{attrs:{value:"10"}},[e._v("PM-CD")]),e._v(" "),o("option",{attrs:{value:"11"}},[e._v("PM-ADL")]),e._v(" "),o("option",{attrs:{value:"12"}},[e._v("PM-ISO")]),e._v(" "),o("option",{attrs:{value:"13"}},[e._v("PM-PAD")]),e._v(" "),o("option",{attrs:{value:"14"}},[e._v("PM-Outro ")]),e._v(" "),o("option",{attrs:{value:"15"}},[e._v("Poder Judiciário ")]),e._v(" "),o("option",{attrs:{value:"16"}},[e._v("Inquérito Policial")]),e._v(" "),o("option",{attrs:{value:"17"}},[e._v("VAJME")])])]),e._v(" "),o("v-label",{attrs:{lg:"2",md:"2",title:"Autos Nº",error:e.error.autos_numero}},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.registro.autos_numero,expression:"registro.autos_numero"}],staticClass:"form-control ",attrs:{type:"text"},domProps:{value:e.registro.autos_numero},on:{input:function(t){t.target.composing||e.$set(e.registro,"autos_numero",t.target.value)}}})]),e._v(" "),o("v-label",{attrs:{lg:"2",md:"2",title:"Autos Ano",error:e.error.autos_ano}},[o("v-ano",{model:{value:e.registro.autos_ano,callback:function(t){e.$set(e.registro,"autos_ano",t)},expression:"registro.autos_ano"}})],1),e._v(" "),o("v-label",{attrs:{title:"Acusados",error:e.error.acusados}},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.registro.acusados,expression:"registro.acusados"}],staticClass:"form-control ",attrs:{type:"text"},domProps:{value:e.registro.acusados},on:{input:function(t){t.target.composing||e.$set(e.registro,"acusados",t.target.value)}}})]),e._v(" "),o("v-label",{attrs:{title:"Data do comparecimento",icon:"fa fa-calendar"}},[o("v-datepicker",{attrs:{"clear-button":""},model:{value:e.registro.comparecimento_data,callback:function(t){e.$set(e.registro,"comparecimento_data",t)},expression:"registro.comparecimento_data"}})],1),e._v(" "),o("v-label",{attrs:{title:"Hora",error:e.error.comparecimento_hora}},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.registro.comparecimento_hora,expression:"registro.comparecimento_hora"}],staticClass:"form-control",attrs:{type:"time",placeholder:"00:00",required:""},domProps:{value:e.registro.comparecimento_hora},on:{input:function(t){t.target.composing||e.$set(e.registro,"comparecimento_hora",t.target.value)}}})]),e._v(" "),o("v-label",{attrs:{lg:"12",md:"12",title:"Descrição do local",error:e.error.comparecimento_local_txt}},[o("v-typeahead",{attrs:{placeholder:"Busca local",async:e.buscaLocal,"on-hit":e.selectLocal,template:e.templateLocal},model:{value:e.registro.comparecimento_local_txt,callback:function(t){e.$set(e.registro,"comparecimento_local_txt",t)},expression:"registro.comparecimento_local_txt"}}),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.registro.id_localdeapresentacao,expression:"registro.id_localdeapresentacao"}],attrs:{type:"hidden"},domProps:{value:e.registro.id_localdeapresentacao},on:{input:function(t){t.target.composing||e.$set(e.registro,"id_localdeapresentacao",t.target.value)}}})],1),e._v(" "),o("v-label",{attrs:{lg:"12",md:"12",title:"Observações",error:e.error.observacao_txt}},[o("textarea",{directives:[{name:"model",rawName:"v-model",value:e.registro.observacao_txt,expression:"registro.observacao_txt"}],staticStyle:{width:"100%"},attrs:{rows:"3",cols:"80"},domProps:{value:e.registro.observacao_txt},on:{input:function(t){t.target.composing||e.$set(e.registro,"observacao_txt",t.target.value)}}})]),e._v(" "),e.registro.id_apresentacao?o("file-upload",{attrs:{title:"Documento de Origem:",name:"documento_de_origem",dproc:e.module,idp:e.registro.id_apresentacao,ext:["pdf"]}}):e._e(),e._v(" "),o("v-label",{attrs:{title:"RG",error:e.error.pessoa_rg}},[e.onSearch&&"rg"==e.type?[o("v-typeahead",{attrs:{placeholder:"Busca PM/BM ativos",async:e.buscaPM,"on-hit":e.selectPM,template:e.templatePM,"match-start":""},model:{value:e.registro.pessoa_rg,callback:function(t){e.$set(e.registro,"pessoa_rg",t)},expression:"registro.pessoa_rg"}})]:[o("input",{directives:[{name:"model",rawName:"v-model",value:e.registro.pessoa_rg,expression:"registro.pessoa_rg"}],staticClass:"form-control ",attrs:{type:"text",placeholder:"Busca PM/BM ativos"},domProps:{value:e.registro.pessoa_rg},on:{click:function(t){return t.preventDefault(),e.changeMode("rg")},input:function(t){t.target.composing||e.$set(e.registro,"pessoa_rg",t.target.value)}}})]],2),e._v(" "),o("v-label",{attrs:{title:"Nome",error:e.error.pessoa_nome}},[e.onSearch&&"nome"==e.type?[o("v-typeahead",{attrs:{placeholder:"Busca PM/BM ativos",async:e.buscaPM,"on-hit":e.selectPM,template:e.templatePM,"match-start":""},model:{value:e.registro.pessoa_nome,callback:function(t){e.$set(e.registro,"pessoa_nome",t)},expression:"registro.pessoa_nome"}})]:[o("input",{directives:[{name:"model",rawName:"v-model",value:e.registro.pessoa_nome,expression:"registro.pessoa_nome"}],staticClass:"form-control ",attrs:{type:"text",placeholder:"Busca PM/BM ativos"},domProps:{value:e.registro.pessoa_nome},on:{click:function(t){return t.preventDefault(),e.changeMode("nome")},input:function(t){t.target.composing||e.$set(e.registro,"pessoa_nome",t.target.value)}}})]],2),e._v(" "),o("v-label",{attrs:{title:"Posto/Grad",error:e.error.pessoa_posto}},[o("select",{directives:[{name:"model",rawName:"v-model",value:e.registro.pessoa_posto,expression:"registro.pessoa_posto"}],staticClass:"form-control",on:{change:function(t){var o=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.registro,"pessoa_posto",t.target.multiple?o:o[0])}}},[o("option",{attrs:{value:"CELAGREG"}},[e._v("CELAGREG")]),e._v(" "),o("option",{attrs:{value:"CEL"}},[e._v("CEL")]),e._v(" "),o("option",{attrs:{value:"TENCEL"}},[e._v("TENCEL")]),e._v(" "),o("option",{attrs:{value:"MAJ"}},[e._v("MAJ")]),e._v(" "),o("option",{attrs:{value:"CAP"}},[e._v("CAP")]),e._v(" "),o("option",{attrs:{value:"1TEN"}},[e._v("1TEN")]),e._v(" "),o("option",{attrs:{value:"2TEN"}},[e._v("2TEN")]),e._v(" "),o("option",{attrs:{value:"ASPOF"}},[e._v("ASPOF")]),e._v(" "),o("option",{attrs:{value:"ALUNO"}},[e._v("ALUNO")]),e._v(" "),o("option",{attrs:{value:"ALUNO3A"}},[e._v("ALUNO3A")]),e._v(" "),o("option",{attrs:{value:"ALUNO2A"}},[e._v("ALUNO2A")]),e._v(" "),o("option",{attrs:{value:"ALUNO1A"}},[e._v("ALUNO1A")]),e._v(" "),o("option",{attrs:{value:"SUBTEN"}},[e._v("SUBTEN")]),e._v(" "),o("option",{attrs:{value:"1SGT"}},[e._v("1SGT")]),e._v(" "),o("option",{attrs:{value:"2SGT"}},[e._v("2SGT")]),e._v(" "),o("option",{attrs:{value:"3SGT"}},[e._v("3SGT")]),e._v(" "),o("option",{attrs:{value:"CABO"}},[e._v("CABO")]),e._v(" "),o("option",{attrs:{value:"SD1C"}},[e._v("SD1C")]),e._v(" "),o("option",{attrs:{value:"SD2C"}},[e._v("SD2C")]),e._v(" "),o("option",{attrs:{value:"null"}},[e._v("Nâo encontrado")])])]),e._v(" "),o("v-label",{attrs:{title:"Quadro",error:e.error.pessoa_quadro}},[o("select",{directives:[{name:"model",rawName:"v-model",value:e.registro.pessoa_quadro,expression:"registro.pessoa_quadro"}],staticClass:"form-control",on:{change:function(t){var o=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.registro,"pessoa_quadro",t.target.multiple?o:o[0])}}},[o("option",{attrs:{value:"QPMG1"}},[e._v("QPMG1")]),e._v(" "),o("option",{attrs:{value:"QPMG2"}},[e._v("QPMG2")]),e._v(" "),o("option",{attrs:{value:"QOPM"}},[e._v("QOPM")]),e._v(" "),o("option",{attrs:{value:"QOBM"}},[e._v("QOBM")]),e._v(" "),o("option",{attrs:{value:"QEOPM"}},[e._v("QEOPM")]),e._v(" "),o("option",{attrs:{value:"QOS"}},[e._v("QOS")]),e._v(" "),o("option",{attrs:{value:"PM"}},[e._v("PM")]),e._v(" "),o("option",{attrs:{value:"BM"}},[e._v("BM")]),e._v(" "),o("option",{attrs:{value:"null"}},[e._v("Nâo encontrado")])])]),e._v(" "),o("v-label",{attrs:{title:"OPM",error:e.error.pessoa_opm_codigo}},[o("v-opm",{attrs:{cdopm:e.registro.pessoa_opm_codigo},model:{value:e.registro.pessoa_opm_codigo,callback:function(t){e.$set(e.registro,"pessoa_opm_codigo",t)},expression:"registro.pessoa_opm_codigo"}})],1),e._v(" "),o("v-label",{attrs:{title:"Condição",error:e.error.id_apresentacaocondicao}},[o("select",{directives:[{name:"model",rawName:"v-model",value:e.registro.id_apresentacaocondicao,expression:"registro.id_apresentacaocondicao"}],staticClass:"form-control",on:{change:function(t){var o=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.registro,"id_apresentacaocondicao",t.target.multiple?o:o[0])}}},[o("option",{attrs:{value:"1"}},[e._v("Testemunha")]),e._v(" "),o("option",{attrs:{value:"2"}},[e._v("Juiz Militar - Conselho Permanente")]),e._v(" "),o("option",{attrs:{value:"3"}},[e._v("Juiz Militar - Conselho Especial")]),e._v(" "),o("option",{attrs:{value:"4"}},[e._v("Réu")]),e._v(" "),o("option",{attrs:{value:"5"}},[e._v("Testemunha de Defesa")]),e._v(" "),o("option",{attrs:{value:"6"}},[e._v("Testemunha da Denúncia")]),e._v(" "),o("option",{attrs:{value:"7"}},[e._v("Testemunha de Acusação")]),e._v(" "),o("option",{attrs:{value:"8"}},[e._v("Testemunha do Juízo")]),e._v(" "),o("option",{attrs:{value:"9"}},[e._v("Outro")]),e._v(" "),o("option",{attrs:{value:"10"}},[e._v("Não informado")])])]),e._v(" "),o("div",{staticClass:"col-xs-12"},[o("div",{staticClass:"col-md-8 col-xs-12"},[o("v-tooltip",{attrs:{effect:"scale",placement:"top",content:e.msgRequired}},[e.registro.id_apresentacao?o("a",{staticClass:"btn btn-success btn-block",attrs:{disabled:e.requireds},on:{click:function(t){return t.preventDefault(),e.update(e.registro.id_apresentacao)}}},[e._v("Editar")]):o("a",{staticClass:"btn btn-success btn-block",attrs:{disabled:e.requireds},on:{click:e.create}},[e._v("Inserir")])])],1),e._v(" "),o("div",{staticClass:"col-md-4 col-xs-12"},[o("a",{staticClass:"btn btn-danger btn-block",on:{click:e.limparDados}},[e._v("Limpar todos dados")])])])],1)},staticRenderFns:[]}},UW9W:function(e,t,o){var a=o("VU/8")(o("Wx9l"),o("NT64"),!1,function(e){o("ksh3")},"data-v-3ef0fba6",null);e.exports=a.exports},Wx9l:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{reference:{type:Number,default:null},ano:{type:Number,default:null},id_notacomparecimento:{type:Number,default:null}},data:function(){return{module:"apresentacao",registro:{pessoa_rg:"",pessoa_nome:"",id_apresentacaonotificacao:"1",id_apresentacaosituacao:"1",id_apresentacaoclassificacaosigilo:"1",id_apresentacaotipoprocesso:"3",id_apresentacaocondicao:"1"},error:{},type:null,onSearch:!1,templateLocal:"<span>{{item.localdeapresentacao}}.{{item.logradouro}}, {{item.numero}} - {{item.bairro}} - {{item.municipio}}/{{item.uf}}. Tel.: {{item.telefone}}. CEP: {{item.cep}}.</span>",templatePM:"<span>{{item.CARGO}} {{item.NOME}} - {{item.RG}} (OM: {{item.OPM_DESCRICAO}}).</span>"}},computed:{buscaLocal:function(){return this.$root.baseUrl+"api/localapresentacao/"},buscaPM:function(){return this.$root.baseUrl+"api/dados/showsugest/"+this.type+"/"},requireds:function(){return!(this.registro.autos_numero&&this.registro.comparecimento_data&&this.registro.comparecimento_hora&&this.registro.comparecimento_local_txt&&this.registro.pessoa_rg&&this.registro.pessoa_nome&&this.registro.pessoa_posto&&this.registro.pessoa_quadro&&this.registro.id_apresentacaocondicao)},msgRequired:function(){return"Para liberar este botão os campos: AUTOS, DATA DO COMPARECIMENTO, HORA, DESCRIÇÃO DO LOCAL, E OS DADOS DO PM/BM deve estar preenchidos"}},created:function(){this.reference?this.dadosApresentacao():this.cleanRegister()},methods:{changeMode:function(e){return this.type=e,this.onSearch=!0,!0},limparDados:function(){confirm("Você tem certeza?")&&(this.registro=null,this.registro={})},selectLocal:function(e){var t=e.localdeapresentacao+"."+e.logradouro+", "+e.numero+" - "+e.bairro+" - "+e.municipio+"/"+e.uf+". Tel.: "+e.telefone+". CEP: "+e.cep+".";return this.registro.comparecimento_local_txt=t,this.registro.id_localdeapresentacao=e.id_localdeapresentacao,t},selectPM:function(e){this.onSearch=!1,this.type=null,this.registro.pessoa_rg=e.RG,this.registro.pessoa_nome=e.NOME,this.registro.pessoa_posto=e.CARGO,this.registro.pessoa_quadro=e.QUADRO,this.registro.pessoa_email=e.EMAIL_META4,this.registro.pessoa_opm_meta4=e.META4,this.registro.pessoa_opm_sigla=e.ABREVIATURA,this.registro.pessoa_opm_descricao=e.OPM_DESCRICAO,this.registro.pessoa_unidade_lotacao_meta4=e.META4,this.registro.pessoa_unidade_lotacao_codigo=e.CDOPM,this.registro.pessoa_unidade_lotacao_sigla=e.ABREVIATURA,this.registro.pessoa_unidade_lotacao_descricao=e.OPM_DESCRICAO;var t=e.CDOPM.substring(0,3);return this.registro.pessoa_opm_codigo=t,this.type?e.RG:e.NOME},dadosApresentacao:function(){var e=this,t=this.ano?this.reference+"/"+this.ano:this.reference,o=this.$root.baseUrl+"api/"+this.module+"/"+t;axios.get(o).then(function(t){e.registro=t.data}).catch(function(e){return console.log(e)})},cleanRegister:function(){this.registro={pessoa_rg:"",pessoa_nome:"",id_apresentacaonotificacao:"1",id_apresentacaosituacao:"1",id_apresentacaoclassificacaosigilo:"1",id_apresentacaotipoprocesso:"3",id_apresentacaocondicao:"1",cdopm:this.$root.dadoSession("cdopmbase"),usuario_rg:this.$root.dadoSession("rg"),autos_ano:(new Date).getFullYear()}},additionalData:function(){var e=this.registro,t=e.comparecimento_data.split("/").reverse().join("-");this.registro.comparecimento_hora=this.registro.comparecimento_hora,this.registro.comparecimento_dh=t+" "+e.comparecimento_hora,console.log("registro",this.registro)},create:function(){var e=this;if(!this.requireds){this.additionalData();var t=this.$root.baseUrl+"api/"+this.module+"/store";axios.post(t,this.registro).then(function(t){e.transation(t.data.success,"create")}).catch(function(e){return console.log(e)})}},edit:function(e){this.registro=e,this.cleanRegister()},update:function(e){var t=this;if(!this.requireds){var o=this.$root.baseUrl+"api/"+this.module+"/update/"+e;axios.put(o,this.registro).then(function(e){t.transation(e.data.success,"edit")}).catch(function(e){return console.log(e)})}},destroy:function(e){var t=this;if(confirm("Você tem certeza?")){var o=this.$root.baseUrl+"api/"+this.module+"/destroy/"+e;axios.delete(o).then(function(e){t.transation(e.data.success,"delete")}).catch(function(e){return console.log(e)})}},transation:function(e,t){var o=this.words(t);e?(this.$root.msg(o.success,"success"),this.registro=null,this.cleanRegister()):this.$root.msg(o.fail,"danger")},words:function(e){return"create"==e?{success:"Inserido com sucesso",fail:"Erro ao inserir"}:"edit"==e?{success:"Editado com sucesso",fail:"Erro ao editar"}:"delete"==e?{success:"Apagado com sucesso",fail:"Erro ao apagar"}:void 0}}}},ksh3:function(e,t,o){var a=o("7FTI");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);o("rjj0")("553dfaa4",a,!0,{})}});