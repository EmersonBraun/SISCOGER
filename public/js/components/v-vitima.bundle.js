webpackJsonp([23],{"6yHu":function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-lg-12 col-md-12 col-xs-12 card"},[t._m(0),t._v(" "),t.only?t._e():a("div",{staticClass:"card-body",class:t.add?"bordaform":""},[t.add?a("div",[a("div",{staticClass:"row"},[a("form",{attrs:{id:"formData",name:"formData"}},[a("input",{attrs:{type:"hidden",name:"id_"+t.dproc},domProps:{value:t.idp}}),t._v(" "),a("div",{staticClass:"col-lg-4 col-md-4 col-xs 4"},[a("label",{attrs:{for:"rg"}},[t._v("RG")]),a("br"),t._v(" "),a("the-mask",{staticClass:"form-control",attrs:{mask:"############",name:"rg"},model:{value:t.rg,callback:function(e){t.rg=e},expression:"rg"}})],1),t._v(" "),a("div",{staticClass:"col-lg-4 col-md-4 col-xs 4"},[a("label",{attrs:{for:"nome"}},[t._v("Nome")]),a("br"),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.nome,expression:"nome"}],staticClass:"form-control",attrs:{type:"text",size:"30",name:"nome"},domProps:{value:t.nome},on:{input:function(e){e.target.composing||(t.nome=e.target.value)}}})]),t._v(" "),"ipm"==t.dproc?a("div",{staticClass:"col-lg-4 col-md-4 col-xs 4"},[a("label",{attrs:{for:"resultado"}},[t._v("Resultado")]),a("br"),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.resultado,expression:"resultado"}],staticClass:"form-control",attrs:{name:"resultado"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.resultado=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}},[t._v("Selecione")]),t._v(" "),a("option",{attrs:{value:"Sem lesao"}},[t._v("Sem lesao")]),t._v(" "),a("option",{attrs:{value:"Obito"}},[t._v("Obito")]),t._v(" "),a("option",{attrs:{value:"Lesao corporal"}},[t._v("Lesao corporal")])])]):t._e(),t._v(" "),a("div",{staticClass:"col-lg-2 col-md-2 col-xs 2"},[a("label",{attrs:{for:"sexo"}},[t._v("Sexo")]),a("br"),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.sexo,expression:"sexo"}],staticClass:"form-control",attrs:{name:"sexo"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.sexo=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}},[t._v("Selecione")]),t._v(" "),a("option",{attrs:{value:"M"}},[t._v("Masculino")]),t._v(" "),a("option",{attrs:{value:"F"}},[t._v("Feminino")])])]),t._v(" "),"ipm"!==t.dproc?[a("div",{staticClass:"col-lg-2 col-md-2 col-xs 2"},[a("label",{attrs:{for:"fone"}},[t._v("Fone")]),a("br"),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.fone,expression:"fone"}],staticClass:"form-control",attrs:{size:"10",maxlength:"20",name:"fone",type:"text"},domProps:{value:t.fone},on:{input:function(e){e.target.composing||(t.fone=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"col-lg-4 col-md-4 col-xs 4"},[a("label",{attrs:{for:"email"}},[t._v("Email")]),a("br"),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{size:"20",maxlength:"40",name:"email",type:"text"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})])]:t._e(),t._v(" "),a("div",{staticClass:"col-lg-2 col-md-2 col-xs 2"},[a("label",{attrs:{for:"idade"}},[t._v("Idade")]),a("br"),t._v(" "),a("the-mask",{staticClass:"form-control",attrs:{mask:"###",name:"idade",type:"text"},model:{value:t.idade,callback:function(e){t.idade=e},expression:"idade"}})],1),t._v(" "),"sai"!==t.dproc&&"proc_outros"!==t.dproc?a("div",{staticClass:"col-lg-4 col-md-4 col-xs 4"},[a("label",{attrs:{for:"escolaridade"}},[t._v("Escolaridade")]),a("br"),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.escolaridade,expression:"escolaridade"}],staticClass:"form-control",attrs:{name:"escolaridade"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.escolaridade=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"Analfabeto"}},[t._v("Analfabeto")]),t._v(" "),a("option",{attrs:{value:"Fundamental Incompleto",selected:""}},[t._v("Fundamental Incompleto")]),t._v(" "),a("option",{attrs:{value:"Fundamental Completo"}},[t._v("Fundamental Completo")]),t._v(" "),a("option",{attrs:{value:"Médio Incompleto"}},[t._v("Médio Incompleto")]),t._v(" "),a("option",{attrs:{value:"Médio completo"}},[t._v("Médio completo")]),t._v(" "),a("option",{attrs:{value:"Superior incompleto"}},[t._v("Superior incompleto")]),t._v(" "),a("option",{attrs:{value:"Superior completo"}},[t._v("Superior completo")]),t._v(" "),a("option",{attrs:{value:"Pos - graduado"}},[t._v("Pós - graduado")]),t._v(" "),a("option",{attrs:{value:"Mestrado"}},[t._v("Mestrado")]),t._v(" "),a("option",{attrs:{value:"Doutorado"}},[t._v("Doutorado")])])]):t._e(),t._v(" "),"sai"==t.dproc||"proc_outros"==t.dproc?a("div",{staticClass:"col-lg-4 col-md-4 col-xs-4"},[a("label",{attrs:{for:"situacao"}},[t._v("Envolvimento")]),a("br"),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.vsituacao,expression:"vsituacao"}],staticClass:"form-control",attrs:{name:"situacao"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.vsituacao=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"Vitima"}},[t._v("Vítima")]),t._v(" "),a("option",{attrs:{value:"Testemunha"}},[t._v("Testemunha")]),t._v(" "),a("option",{attrs:{value:"Denunciante"}},[t._v("Denunciante")])])]):[a("input",{attrs:{type:"hidden",name:"situacao",value:"Vitima"}})],t._v(" "),"ipm"==t.dproc?a("div",{staticClass:"col-lg-2 col-md-2 col-xs 2"}):t._e(),t._v(" "),a("div",{staticClass:"col-lg-1 col-md-1 col-xs 1"},[a("label",[t._v("Cancelar")]),a("br"),t._v(" "),a("a",{staticClass:"btn btn-danger btn-block",on:{click:function(e){return t.clear(!0)}}},[a("i",{staticClass:"fa fa-times",staticStyle:{color:"white"}})])]),t._v(" "),a("div",{staticClass:"col-lg-1 col-md-1 col-xs 1"},[t.edit?[a("label",[t._v("Editar")]),a("br"),t._v(" "),a("a",{staticClass:"btn btn-success btn-block",attrs:{disabled:!t.rg.length||!t.nome.length},on:{click:t.editVitima}},[a("i",{staticClass:"fa fa-plus",staticStyle:{color:"white"}})])]:[a("label",[t._v("Adicionar")]),a("br"),t._v(" "),a("a",{staticClass:"btn btn-success btn-block",attrs:{disabled:!t.rg.length||!t.nome.length},on:{click:t.createVitima}},[a("i",{staticClass:"fa fa-plus",staticStyle:{color:"white"}})])]],2)],2)])]):a("div",[a("button",{staticClass:"btn btn-success btn-block",on:{click:function(e){t.add=!t.add}}},[a("i",{staticClass:"fa fa-plus"}),t._v(" Adicionar vítima")])])]),t._v(" "),a("div",{staticClass:"card-footer"},[t.vitimas.length?a("div",{staticClass:"row bordaform"},[a("div",{staticClass:"col-sm-12"},[a("table",{staticClass:"table table-hover"},[a("thead",[a("tr",[a("th",{staticClass:"col-sm-2"},[t._v("RG")]),t._v(" "),a("th",{staticClass:"col-sm-2"},[t._v("Nome")]),t._v(" "),"ipm"==t.dproc?a("th",{staticClass:"col-sm-3"},[t._v("Resultado")]):t._e(),t._v(" "),a("th",{staticClass:"col-sm-1"},[t._v("Sexo")]),t._v(" "),"ipm"!==t.dproc?a("th",{staticClass:"col-sm-1"},[t._v("Fone")]):t._e(),t._v(" "),"ipm"!==t.dproc?a("th",{staticClass:"col-sm-2"},[t._v("Email")]):t._e(),t._v(" "),a("th",{staticClass:"col-sm-1"},[t._v("Idade")]),t._v(" "),a("th",{staticClass:"col-sm-2"},[t._v("Escolaridade")]),t._v(" "),"sai"==t.dproc||"proc_outros"==t.dproc?a("th",{staticClass:"col-sm-2"},[t._v("Envolv.")]):t._e(),t._v(" "),a("th",{staticClass:"col-sm-1"},[t._v("Apagar Vítima")])])]),t._v(" "),a("tbody",t._l(t.vitimas,function(e,o){return a("tr",{key:o},[a("td",[t._v(t._s(e.rg))]),t._v(" "),a("td",[t._v(t._s(e.nome))]),t._v(" "),"ipm"==t.dproc?a("td",[t._v(t._s(e.resultado))]):t._e(),t._v(" "),a("td",[t._v(t._s(t._f("tipoSexo")(e.sexo)))]),t._v(" "),"ipm"!==t.dproc?a("td",[t._v(t._s(e.fone))]):t._e(),t._v(" "),"ipm"!==t.dproc?a("td",[t._v(t._s(e.email))]):t._e(),t._v(" "),a("td",[t._v(t._s(e.idade))]),t._v(" "),a("td",[t._v(t._s(e.escolaridade))]),t._v(" "),"sai"==t.dproc||"proc_outros"==t.dproc?a("td",[t._v(t._s(e.envolvimento))]):t._e(),t._v(" "),a("td",[a("div",{staticClass:"btn-group",attrs:{role:"group","aria-label":"First group"}},[a("a",{staticClass:"btn btn-success",staticStyle:{color:"white"},attrs:{type:"button",target:"_blanck"},on:{click:function(a){return t.replaceVitima(e)}}},[a("i",{staticClass:"fa fa-edit"})]),t._v(" "),a("a",{staticClass:"btn btn-danger",staticStyle:{color:"white"},attrs:{type:"button"},on:{click:function(a){return t.removeVitima(e.id_ofendido,o)}}},[a("i",{staticClass:"fa fa-trash"})])])])])}),0)])])]):!t.vitimas.length&&t.only?a("div",[t._m(1)]):t._e()])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-header"},[e("h5",[e("b",[this._v("Vítima (apenas se houver)")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h5",[e("b",[this._v("Não há registtros")])])}]}},Kfk8:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a("s9Db"),s=a("hlPV");a.n(s);function i(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}e.default={mixins:[o.a],components:{TheMask:s.TheMask},props:{unique:{type:Boolean,default:!1},idp:{type:String}},data:function(){var t;return i(t={nome:"",resultado:"",sexo:"",fone:"",email:"",idade:"",escolaridade:"",vsituacao:"",vitimas:[],finded:!1},"resultado",!1),i(t,"counter",0),i(t,"only",!1),i(t,"edit",""),t},filters:{tipoSexo:function(t){if(null!==t)return"M"==t?"Masculino":"Feminino"}},mounted:function(){this.verifyOnly,this.listVitima()},computed:{verifyOnly:function(){1==this.unique?this.only=!0:this.only=!1}},methods:{listVitima:function(){var t=this,e=this.getBaseUrl+"api/vitima/list/"+this.dproc+"/"+this.idp;this.dproc&&this.idp&&axios.get(e).then(function(e){t.vitimas=e.data}).then(this.clear(!1)).catch(function(t){return console.log(t)})},createVitima:function(){var t=this.getBaseUrl+"api/vitima/store",e=document.getElementById("formData"),a=new FormData(e);axios.post(t,a).then(this.listVitima()).catch(function(t){return console.log(t)})},replaceVitima:function(t){this.rg=t.rg,this.nome=t.nome,this.resultado=t.resultado,this.sexo=t.sexo,this.fone=t.fone,this.email=t.email,this.idade=t.idade,this.escolaridade=t.escolaridade,this.vsituacao=t.situacao,this.edit=t.id_ofendido,this.add=!0},editVitima:function(){var t=this,e=this.getBaseUrl+"api/vitima/edit/"+this.edit,a=document.getElementById("formData"),o=new FormData(a);axios.post(e,o).then(function(){t.listVitima(),t.clear(!1)}).catch(function(t){return console.log(t)})},removeVitima:function(t,e){var a=this.getBaseUrl+"api/vitima/destroy/"+t;axios.delete(a).then(this.vitimas.splice(e,1)).catch(function(t){return console.log(t)})},clear:function(t){this.add=t,this.rg="",this.nome="",this.resultado="",this.sexo="",this.fone="",this.email="",this.idade="",this.escolaridade="",this.vsituacao="",this.finded=!1,this.edit=""}}}},OpSd:function(t,e,a){var o=a("jHFG");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);a("rjj0")("1cbc3392",o,!0,{})},jHFG:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,"",""])},jUbC:function(t,e,a){var o=a("VU/8")(a("Kfk8"),a("6yHu"),!1,function(t){a("OpSd")},"data-v-16e4b75f",null);t.exports=o.exports},s9Db:function(t,e,a){"use strict";e.a={methods:{list:function(){var t=this,e=this.$root.baseUrl+"api/"+this.module+"/list/"+this.rg;this.rg&&axios.get(e).then(function(e){t.registros=e.data}).catch(function(t){return console.log(t)})},create:function(){var t=this,e=this.$root.baseUrl+"api/"+this.module+"/store";axios.post(e,this.registro).then(function(e){t.transation(e.data.success,"create")}).catch(function(t){return console.log(t)}),this.showModal=!1},edit:function(t){this.registro=t,this.showModal=!0},update:function(t){var e=this,a=this.$root.baseUrl+"api/"+this.module+"/update/"+t;axios.put(a,this.registro).then(function(t){e.transation(t.data.success,"edit")}).catch(function(t){return console.log(t)})},destroy:function(t){var e=this;if(confirm("Você tem certeza?")){var a=this.$root.baseUrl+"api/"+this.module+"/destroy/"+t;axios.delete(a).then(function(t){e.transation(t.data.success,"delete")}).catch(function(t){return console.log(t)})}},transation:function(t,e){var a=this.words(e);this.showModal=!1,t?(this.list(),this.$root.msg(a.success,"success"),this.registro=[]):this.$root.msg(a.fail,"danger")},words:function(t){return"create"==t?{success:"Inserido com sucesso",fail:"Erro ao inserir"}:"edit"==t?{success:"Editado com sucesso",fail:"Erro ao editar"}:"delete"==t?{success:"Apagado com sucesso",fail:"Erro ao apagar"}:void 0}}}}});