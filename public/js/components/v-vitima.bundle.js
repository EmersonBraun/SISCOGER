webpackJsonp([22],{"108D":function(t,a,e){(t.exports=e("FZ+f")(!1)).push([t.i,"",""])},Kfk8:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var o=e("s9Db"),s=e("hlPV");e.n(s);function i(t,a,e){return a in t?Object.defineProperty(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[a]=e,t}a.default={mixins:[o.a],components:{TheMask:s.TheMask},props:{unique:{type:Boolean,default:!1},idp:{type:String,default:""},dproc:{type:String,default:""}},data:function(){var t;return i(t={nome:"",resultado:"",sexo:"",fone:"",email:"",idade:"",escolaridade:"",vsituacao:"",vitimas:[],finded:!1},"resultado",!1),i(t,"counter",0),i(t,"only",!1),i(t,"toEdit",""),i(t,"add",!1),t},filters:{tipoSexo:function(t){if(null!==t)return"M"==t?"Masculino":"Feminino"}},mounted:function(){this.verifyOnly,this.listVitima()},computed:{verifyOnly:function(){1==this.unique?this.only=!0:this.only=!1}},methods:{listVitima:function(){var t=this,a=this.$root.baseUrl+"api/vitima/list/"+this.dproc+"/"+this.idp;this.dproc&&this.idp&&axios.get(a).then(function(a){t.vitimas=a.data}).then(this.clear(!1)).catch(function(t){return console.log(t)})},createVitima:function(){var t=this.$root.baseUrl+"api/vitima/store",a=document.getElementById("formData"),e=new FormData(a);axios.post(t,e).then(this.listVitima()).catch(function(t){return console.log(t)})},replaceVitima:function(t){this.rg=t.rg,this.nome=t.nome,this.resultado=t.resultado,this.sexo=t.sexo,this.fone=t.fone,this.email=t.email,this.idade=t.idade,this.escolaridade=t.escolaridade,this.vsituacao=t.situacao,this.toEdit=t.id_ofendido,this.add=!0},editVitima:function(){var t=this,a=this.$root.baseUrl+"api/vitima/edit/"+this.toEdit,e=document.getElementById("formData"),o=new FormData(e);axios.post(a,o).then(function(){t.listVitima(),t.clear(!1)}).catch(function(t){return console.log(t)})},removeVitima:function(t,a){var e=this.$root.baseUrl+"api/vitima/destroy/"+t;axios.delete(e).then(this.vitimas.splice(a,1)).catch(function(t){return console.log(t)})},clear:function(t){this.add=t,this.rg="",this.nome="",this.resultado="",this.sexo="",this.fone="",this.email="",this.idade="",this.escolaridade="",this.vsituacao="",this.finded=!1,this.toEdit=""}}}},jUbC:function(t,a,e){var o=e("VU/8")(e("Kfk8"),e("wwUb"),!1,function(t){e("lIDP")},"data-v-2b0a4279",null);t.exports=o.exports},lIDP:function(t,a,e){var o=e("108D");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);e("rjj0")("41a602be",o,!0,{})},s9Db:function(t,a,e){"use strict";a.a={data:function(){return{add:!1}},methods:{list:function(){var t=this,a=this.$root.baseUrl+"api/"+this.module+"/list/"+this.rg;this.rg&&axios.get(a).then(function(a){t.registros=a.data}).catch(function(t){return console.log(t)})},create:function(){var t=this,a=this.$root.baseUrl+"api/"+this.module+"/store";axios.post(a,this.registro).then(function(a){t.transation(a.data.success,"create")}).catch(function(t){return console.log(t)}),this.showModal=!1},edit:function(t){this.registro=t,this.showModal=!0},update:function(t){var a=this,e=this.$root.baseUrl+"api/"+this.module+"/update/"+t;axios.put(e,this.registro).then(function(t){a.transation(t.data.success,"edit")}).catch(function(t){return console.log(t)})},destroy:function(t){var a=this;if(confirm("Você tem certeza?")){var e=this.$root.baseUrl+"api/"+this.module+"/destroy/"+t;axios.delete(e).then(function(t){a.transation(t.data.success,"delete")}).catch(function(t){return console.log(t)})}},transation:function(t,a){var e=this.words(a);this.showModal=!1,t?(this.list(),this.$root.msg(e.success,"success"),this.registro=[]):this.$root.msg(e.fail,"danger")},words:function(t){return"create"==t?{success:"Inserido com sucesso",fail:"Erro ao inserir"}:"edit"==t?{success:"Editado com sucesso",fail:"Erro ao editar"}:"delete"==t?{success:"Apagado com sucesso",fail:"Erro ao apagar"}:void 0}}}},wwUb:function(t,a){t.exports={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col-lg-12 col-md-12 col-xs-12 card"},[t._m(0),t._v(" "),t.only?t._e():e("div",{staticClass:"card-body",class:t.add?"bordaform":""},[t.add?e("div",[e("div",{staticClass:"row"},[e("form",{attrs:{id:"formData",name:"formData"}},[e("input",{attrs:{type:"hidden",name:"id_"+t.dproc},domProps:{value:t.idp}}),t._v(" "),e("div",{staticClass:"col-lg-4 col-md-4 col-xs 4"},[e("label",{attrs:{for:"rg"}},[t._v("RG")]),e("br"),t._v(" "),e("the-mask",{staticClass:"form-control",attrs:{mask:"############",name:"rg"},model:{value:t.rg,callback:function(a){t.rg=a},expression:"rg"}})],1),t._v(" "),e("div",{staticClass:"col-lg-4 col-md-4 col-xs 4"},[e("label",{attrs:{for:"nome"}},[t._v("Nome")]),e("br"),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.nome,expression:"nome"}],staticClass:"form-control",attrs:{type:"text",size:"30",name:"nome"},domProps:{value:t.nome},on:{input:function(a){a.target.composing||(t.nome=a.target.value)}}})]),t._v(" "),"ipm"==t.dproc?e("div",{staticClass:"col-lg-4 col-md-4 col-xs 4"},[e("label",{attrs:{for:"resultado"}},[t._v("Resultado")]),e("br"),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.resultado,expression:"resultado"}],staticClass:"form-control",attrs:{name:"resultado"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.resultado=a.target.multiple?e:e[0]}}},[e("option",{attrs:{value:""}},[t._v("Selecione")]),t._v(" "),e("option",{attrs:{value:"Sem lesao"}},[t._v("Sem lesao")]),t._v(" "),e("option",{attrs:{value:"Obito"}},[t._v("Obito")]),t._v(" "),e("option",{attrs:{value:"Lesao corporal"}},[t._v("Lesao corporal")])])]):t._e(),t._v(" "),e("div",{staticClass:"col-lg-2 col-md-2 col-xs 2"},[e("label",{attrs:{for:"sexo"}},[t._v("Sexo")]),e("br"),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.sexo,expression:"sexo"}],staticClass:"form-control",attrs:{name:"sexo"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.sexo=a.target.multiple?e:e[0]}}},[e("option",{attrs:{value:""}},[t._v("Selecione")]),t._v(" "),e("option",{attrs:{value:"M"}},[t._v("Masculino")]),t._v(" "),e("option",{attrs:{value:"F"}},[t._v("Feminino")])])]),t._v(" "),"ipm"!==t.dproc?[e("div",{staticClass:"col-lg-2 col-md-2 col-xs 2"},[e("label",{attrs:{for:"fone"}},[t._v("Fone")]),e("br"),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.fone,expression:"fone"}],staticClass:"form-control",attrs:{size:"10",maxlength:"20",name:"fone",type:"text"},domProps:{value:t.fone},on:{input:function(a){a.target.composing||(t.fone=a.target.value)}}})]),t._v(" "),e("div",{staticClass:"col-lg-4 col-md-4 col-xs 4"},[e("label",{attrs:{for:"email"}},[t._v("Email")]),e("br"),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{size:"20",maxlength:"40",name:"email",type:"text"},domProps:{value:t.email},on:{input:function(a){a.target.composing||(t.email=a.target.value)}}})])]:t._e(),t._v(" "),e("div",{staticClass:"col-lg-2 col-md-2 col-xs 2"},[e("label",{attrs:{for:"idade"}},[t._v("Idade")]),e("br"),t._v(" "),e("the-mask",{staticClass:"form-control",attrs:{mask:"###",name:"idade",type:"text"},model:{value:t.idade,callback:function(a){t.idade=a},expression:"idade"}})],1),t._v(" "),"sai"!==t.dproc&&"proc_outros"!==t.dproc?e("div",{staticClass:"col-lg-4 col-md-4 col-xs 4"},[e("label",{attrs:{for:"escolaridade"}},[t._v("Escolaridade")]),e("br"),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.escolaridade,expression:"escolaridade"}],staticClass:"form-control",attrs:{name:"escolaridade"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.escolaridade=a.target.multiple?e:e[0]}}},[e("option",{attrs:{value:"Analfabeto"}},[t._v("Analfabeto")]),t._v(" "),e("option",{attrs:{value:"Fundamental Incompleto",selected:""}},[t._v("Fundamental Incompleto")]),t._v(" "),e("option",{attrs:{value:"Fundamental Completo"}},[t._v("Fundamental Completo")]),t._v(" "),e("option",{attrs:{value:"Médio Incompleto"}},[t._v("Médio Incompleto")]),t._v(" "),e("option",{attrs:{value:"Médio completo"}},[t._v("Médio completo")]),t._v(" "),e("option",{attrs:{value:"Superior incompleto"}},[t._v("Superior incompleto")]),t._v(" "),e("option",{attrs:{value:"Superior completo"}},[t._v("Superior completo")]),t._v(" "),e("option",{attrs:{value:"Pos - graduado"}},[t._v("Pós - graduado")]),t._v(" "),e("option",{attrs:{value:"Mestrado"}},[t._v("Mestrado")]),t._v(" "),e("option",{attrs:{value:"Doutorado"}},[t._v("Doutorado")])])]):t._e(),t._v(" "),"sai"==t.dproc||"proc_outros"==t.dproc?e("div",{staticClass:"col-lg-4 col-md-4 col-xs-4"},[e("label",{attrs:{for:"situacao"}},[t._v("Envolvimento")]),e("br"),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.vsituacao,expression:"vsituacao"}],staticClass:"form-control",attrs:{name:"situacao"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.vsituacao=a.target.multiple?e:e[0]}}},[e("option",{attrs:{value:"Vitima"}},[t._v("Vítima")]),t._v(" "),e("option",{attrs:{value:"Testemunha"}},[t._v("Testemunha")]),t._v(" "),e("option",{attrs:{value:"Denunciante"}},[t._v("Denunciante")])])]):[e("input",{attrs:{type:"hidden",name:"situacao",value:"Vitima"}})],t._v(" "),"ipm"==t.dproc?e("div",{staticClass:"col-lg-2 col-md-2 col-xs 2"}):t._e(),t._v(" "),e("div",{staticClass:"col-lg-1 col-md-1 col-xs 1"},[e("label",[t._v("Cancelar")]),e("br"),t._v(" "),e("a",{staticClass:"btn btn-danger btn-block",on:{click:function(a){return t.clear(!0)}}},[e("i",{staticClass:"fa fa-times",staticStyle:{color:"white"}})])]),t._v(" "),e("div",{staticClass:"col-lg-1 col-md-1 col-xs 1"},[t.toEdit?[e("label",[t._v("Editar")]),e("br"),t._v(" "),e("a",{staticClass:"btn btn-success btn-block",attrs:{disabled:!t.rg.length||!t.nome.length},on:{click:t.editVitima}},[e("i",{staticClass:"fa fa-plus",staticStyle:{color:"white"}})])]:[e("label",[t._v("Adicionar")]),e("br"),t._v(" "),e("a",{staticClass:"btn btn-success btn-block",attrs:{disabled:!t.rg.length||!t.nome.length},on:{click:t.createVitima}},[e("i",{staticClass:"fa fa-plus",staticStyle:{color:"white"}})])]],2)],2)])]):e("div",[e("button",{staticClass:"btn btn-success btn-block",on:{click:function(a){t.add=!t.add}}},[e("i",{staticClass:"fa fa-plus"}),t._v(" Adicionar vítima")])])]),t._v(" "),e("div",{staticClass:"card-footer"},[t.vitimas.length?e("div",{staticClass:"row bordaform"},[e("div",{staticClass:"col-sm-12"},[e("table",{staticClass:"table table-hover"},[e("thead",[e("tr",[e("th",{staticClass:"col-sm-2"},[t._v("RG")]),t._v(" "),e("th",{staticClass:"col-sm-2"},[t._v("Nome")]),t._v(" "),"ipm"==t.dproc?e("th",{staticClass:"col-sm-3"},[t._v("Resultado")]):t._e(),t._v(" "),e("th",{staticClass:"col-sm-1"},[t._v("Sexo")]),t._v(" "),"ipm"!==t.dproc?e("th",{staticClass:"col-sm-1"},[t._v("Fone")]):t._e(),t._v(" "),"ipm"!==t.dproc?e("th",{staticClass:"col-sm-2"},[t._v("Email")]):t._e(),t._v(" "),e("th",{staticClass:"col-sm-1"},[t._v("Idade")]),t._v(" "),e("th",{staticClass:"col-sm-2"},[t._v("Escolaridade")]),t._v(" "),"sai"==t.dproc||"proc_outros"==t.dproc?e("th",{staticClass:"col-sm-2"},[t._v("Envolv.")]):t._e(),t._v(" "),e("th",{staticClass:"col-sm-1"},[t._v("Apagar Vítima")])])]),t._v(" "),e("tbody",t._l(t.vitimas,function(a,o){return e("tr",{key:o},[e("td",[t._v(t._s(a.rg))]),t._v(" "),e("td",[t._v(t._s(a.nome))]),t._v(" "),"ipm"==t.dproc?e("td",[t._v(t._s(a.resultado))]):t._e(),t._v(" "),e("td",[t._v(t._s(t._f("tipoSexo")(a.sexo)))]),t._v(" "),"ipm"!==t.dproc?e("td",[t._v(t._s(a.fone))]):t._e(),t._v(" "),"ipm"!==t.dproc?e("td",[t._v(t._s(a.email))]):t._e(),t._v(" "),e("td",[t._v(t._s(a.idade))]),t._v(" "),e("td",[t._v(t._s(a.escolaridade))]),t._v(" "),"sai"==t.dproc||"proc_outros"==t.dproc?e("td",[t._v(t._s(a.envolvimento))]):t._e(),t._v(" "),e("td",[e("div",{staticClass:"btn-group",attrs:{role:"group","aria-label":"First group"}},[e("a",{staticClass:"btn btn-success",staticStyle:{color:"white"},attrs:{type:"button",target:"_blanck"},on:{click:function(e){return t.replaceVitima(a)}}},[e("i",{staticClass:"fa fa-edit"})]),t._v(" "),e("a",{staticClass:"btn btn-danger",staticStyle:{color:"white"},attrs:{type:"button"},on:{click:function(e){return t.removeVitima(a.id_ofendido,o)}}},[e("i",{staticClass:"fa fa-trash"})])])])])}),0)])])]):!t.vitimas.length&&t.only?e("div",[t._m(1)]):t._e()])])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"card-header"},[a("h5",[a("b",[this._v("Vítima (apenas se houver)")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("h5",[a("b",[this._v("Não há registtros")])])}]}}});